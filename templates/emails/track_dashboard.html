{% extends 'base.html' %} {% load crispy_forms_tags %} {% block content %}
<div class="container mt-5">
  <h2 class="text-center mb-4">Email Engagement Tracking</h2>
  <div class="search-container">
    <input type="text" id="searchBarEmail" class="form-control mb-4" placeholder="Search email...">
  </div>
  <table class="table table-hover table-dark caption-top table-responsive">
    <caption>
      Todo Items
    </caption>
    <thead class="table-light">
      <tr>
        <th scope="col">#</th>
        <th scope="col">Subject</th>
        <th scope="col">List</th>
        <th scope="col">Total Sent</th>
        <th scope="col">Events</th>
        <th scope="col">Sent At</th>
      </tr>
    </thead>
    <tbody>
      {% for email in emails %}
      <tr class="email-table-row">
        <th scope="row">{{ forloop.counter }}</th>
        <td><a href="{% url 'track_stats' email.id %}">{{ email.subject }}</a></td>
        <td>{{ email.email_list }}</td>
        <td>{{ email.total_sent }}</td>
        <td>
          <div>{{ email.open_rate }}% Opened</div>
          <div>0% Clicked</div>
        </td>
        <td>{{ email.sent_at }}</td>
      </tr>
      {% endfor %}
    </tbody>
    <tfoot class="table-light">
      <tr>
        <th scope="col">#</th>
        <th scope="col">Subject</th>
        <th scope="col">List</th>
        <th scope="col">Total Sent</th>
        <th scope="col">Events</th>
        <th scope="col">Sent At</th>
      </tr>
    </tfoot>
  </table>
</div>
{% endblock %}
